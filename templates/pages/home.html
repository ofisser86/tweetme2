{% extends 'templates/base.html' %}
{% block head_title %}
    Home page

 {% endblock head_title %}


{% block content %}
      <h1>Welcome to TweetMe </h1>
    <div id="tweets">
    Replace me
    </div>
    <script>
    const tweetsElements = document.getElementById('tweets')
    tweetsElements.innerHTML = 'Loading...'
    const xhr = new  XMLHttpRequest()
    const method = 'GET'
    const url = 'tweets'
    const  responseType = 'json'

    xhr.responseType = responseType
    xhr.open(method, url)
    xhr.onload = function () {
        const serverResponse = xhr.response
        const listedItems = serverResponse.response
        var finalTweetStr = ''
        var i;
        for(i=0;i<listedItems.length;i++){
            console.log(i)
            console.log(listedItems[i])
        }

        console.log(listedItems)


        console.log(xhr.response)
    }
    xhr.send()

    </script>
  {% endblock content %}